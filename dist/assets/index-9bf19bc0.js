import{d as A,g as M,u as T,L as j,h as m,r as D,j as o,c as u,b as l,w as c,l as r,o as n,a as d,F as L,q as O,s as B,k as p,t as y,i as q,O as I}from"./index-46fce740.js";import"./echarts-48262bf7.js";const U={class:"search-modal"},G=p(" 搜 索 "),H={key:0,class:"recent-wrap"},K={class:"title"},P=p(" 最近 "),Q=p("清空"),W={class:"recent-body"},X={key:1,class:"result-wrap"},Y=["onClick"],Z=["title"],oe=A({name:"index",setup(ee){const i=M("recent-list",[]),F=T(),w=j(),v=m([]);let _=m([]);const g=e=>{e==null||e.forEach(t=>{var a;(a=t.children)!=null&&a.length?g(t.children):v.push(t)})},k=D(null),h=D(!1),E=()=>{h.value=!0,setTimeout(()=>{var e;return(e=k.value)==null?void 0:e.focus()})},C=e=>{h.value=!1,F.push({path:e.path}),i.value.some(t=>t.name===e.name)||i.value.push(e)};g(w.MenuList),_=m(JSON.parse(JSON.stringify(o(v))));const b=I(e=>{_.length=0;const t=v.filter(a=>a.title.indexOf(e.target.value)!==-1);_.push(...JSON.parse(JSON.stringify(o(t))))},500),x=e=>{e==="all"?i.value.length=0:i.value.splice(e,1)};return(e,t)=>{const a=r("icon-search"),S=r("a-button"),J=r("icon-history"),R=r("a-tag"),V=r("a-avatar"),$=r("a-empty"),z=r("a-modal");return n(),u("div",U,[l(S,{class:"search-btn",onClick:E,shape:"round"},{icon:c(()=>[l(a,{style:{color:"var(--color-text-1)"}})]),default:c(()=>[G]),_:1}),l(z,{visible:h.value,"onUpdate:visible":t[2]||(t[2]=s=>h.value=s),top:"150px",closable:!1,footer:!1,"modal-class":"my-modal","align-center":!1},{title:c(()=>[l(a,{size:"20",style:{color:"rgb(var(--primary-6))"}}),d("input",{ref_key:"input",ref:k,class:"search-input",type:"text",autofocus:"",placeholder:"输入关键词搜索",onInput:t[0]||(t[0]=(...s)=>o(b)&&o(b)(...s))},null,544)]),default:c(()=>[o(i).length?(n(),u("div",H,[d("div",K,[d("span",null,[l(J),P]),l(S,{size:"mini",type:"text",status:"danger",onClick:t[1]||(t[1]=s=>x("all"))},{default:c(()=>[Q]),_:1})]),d("div",W,[(n(!0),u(L,null,O(o(i),(s,f)=>(n(),B(R,{closable:"",onClick:N=>C(s),onClose:N=>x(f)},{default:c(()=>[p(y(s.title),1)]),_:2},1032,["onClick","onClose"]))),256))])])):q("",!0),o(_).length?(n(),u("div",X,[(n(!0),u(L,null,O(o(_),(s,f)=>(n(),u("div",{key:s,class:"result-item",onClick:N=>C(s)},[l(V,{class:"icon"},{default:c(()=>[p(y(f+1),1)]),_:2},1024),d("span",{class:"label",title:s.title},y(s.title),9,Z)],8,Y))),128))])):(n(),B($,{key:2}))]),_:1},8,["visible"])])}}});export{oe as default};
