import{d as z,r as f,u as H,n as O,L as P,Q as W,R as k,C as q,S as Q,o as n,s as R,w as u,c as d,b as r,i as c,a as t,t as i,h as b,T as y,U as A,l as _,p as G,e as J}from"./index-e51ca14a.js";import{_ as K}from"./plugin-vue_export-helper-c27b6911.js";const X="/ace-vue-admin/assets/avatar-e759dc4b.jpg";const Y=a=>(G("data-v-66b5174d"),a=a(),J(),a),Z=["onClick"],$={key:0,class:"unlock-wrap"},ee={class:"unlock"},oe=Y(()=>t("img",{alt:"avatar",src:X},null,-1)),se={style:{"font-size":"48px",margin:"4px 0 24px 0"}},te={key:0,class:"tips"},ae={key:1,class:"date-time"},ne={class:"timer"},re={class:"date"},ce=z({name:"index",props:{locked:{type:Boolean,default:!1}},emits:["unlocked"],setup(a,{emit:E}){const S=a,p=f(!1),l=f(),m=f(),B=H(),C=O(()=>B),[x,w]=P(!1),v=W(),N=["日","一","二","三","四","五","六"],F=k(v,"HH : mm"),L=k(v,"MM月DD日"),V=k(v,"d"),T=o=>N[Number(o)],U=()=>w(),h=()=>{l.value==="123456"?(p.value=!1,setTimeout(()=>{l.value="",E("unlocked"),w()})):(console.log("密码错误"),p.value=!0)},g=o=>{o.key==="locked"&&o.oldValue==="true"&&o.newValue===null&&localStorage.setItem("locked","true")};return q(()=>{window.addEventListener("storage",g);const o=document.querySelector(".ace-header");o["lock-screen-observer"]=new MutationObserver(e=>{setTimeout(()=>{e[0]&&e[0].removedNodes&&e[0].removedNodes.length&&e[0].removedNodes[0].className==="lock-screen"&&window.location.reload()},200)}),o["lock-screen-observer"].observe(o,{childList:!0,attributes:!0,subtree:!0})}),Q(()=>{window.removeEventListener("storage",g)}),(o,e)=>{const D=_("a-avatar"),M=_("a-input-password"),I=_("icon-arrow-right"),j=_("a-button");return n(),R(y,{name:"fade",mode:"out-in"},{default:u(()=>[S.locked?(n(),d("div",{key:0,class:"lock-screen",onClick:A(U,["self"])},[r(y,{name:"fade",mode:"out-in"},{default:u(()=>[c(x)?(n(),d("div",$,[t("div",ee,[r(D,{size:180},{default:u(()=>[oe]),_:1}),t("div",se,i(c(C).name),1),t("div",{class:"password",ref_key:"passwordWrapper",ref:m},[r(M,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),placeholder:"密码 123456",autofocus:"",onFocus:e[1]||(e[1]=()=>{var s;return(s=m.value)==null?void 0:s.classList.add("foucs")}),onBlur:e[2]||(e[2]=()=>{var s;return(s=m.value)==null?void 0:s.classList.remove("foucs")}),onPressEnter:h},null,8,["modelValue"]),r(j,{onClick:h},{icon:u(()=>[r(I)]),_:1})],512),p.value?(n(),d("div",te,"密码错误")):b("",!0)])])):(n(),d("div",ae,[t("div",ne,i(c(F)),1),t("div",re,i(c(L))+"，星期"+i(T(c(V))),1)]))]),_:1})],8,Z)):b("",!0)]),_:1})}}}),le=K(ce,[["__scopeId","data-v-66b5174d"]]),ie=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"}));export{le as L,X as _,ie as i};
