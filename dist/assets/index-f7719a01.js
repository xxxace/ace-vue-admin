import{d as z,r as f,f as W,n as j,B as q,G,H as k,I as J,J as K,s as O,w as u,T as B,o as n,c as d,b as r,j as c,a as t,t as i,i as E,K as P,l as _,p as A,e as Q}from"./index-46fce740.js";import{_ as R}from"./avatar-86cb5e38.js";import{_ as X}from"./plugin-vue_export-helper-c27b6911.js";import"./echarts-48262bf7.js";const Y=a=>(A("data-v-66b5174d"),a=a(),Q(),a),Z=["onClick"],$={key:0,class:"unlock-wrap"},ee={class:"unlock"},oe=Y(()=>t("img",{alt:"avatar",src:R},null,-1)),se={style:{"font-size":"48px",margin:"4px 0 24px 0"}},te={key:0,class:"tips"},ae={key:1,class:"date-time"},ne={class:"timer"},re={class:"date"},ce=z({name:"index",props:{locked:{type:Boolean,default:!1}},emits:["unlocked"],setup(a,{emit:b}){const y=a,p=f(!1),l=f(),m=f(),C=W(),S=j(()=>C),[x,w]=q(!1),v=G(),N=["日","一","二","三","四","五","六"],F=k(v,"HH : mm"),V=k(v,"MM月DD日"),D=k(v,"d"),I=o=>N[Number(o)],L=()=>w(),h=()=>{l.value==="123456"?(p.value=!1,setTimeout(()=>{l.value="",b("unlocked"),w()})):(console.log("密码错误"),p.value=!0)},g=o=>{o.key==="locked"&&o.oldValue==="true"&&o.newValue===null&&localStorage.setItem("locked","true")};return J(()=>{window.addEventListener("storage",g);const o=document.querySelector(".ace-header");o["lock-screen-observer"]=new MutationObserver(e=>{setTimeout(()=>{e[0]&&e[0].removedNodes&&e[0].removedNodes.length&&e[0].removedNodes[0].className==="lock-screen"&&window.location.reload()},200)}),o["lock-screen-observer"].observe(o,{childList:!0,attributes:!0,subtree:!0})}),K(()=>{window.removeEventListener("storage",g)}),(o,e)=>{const T=_("a-avatar"),U=_("a-input-password"),M=_("icon-arrow-right"),H=_("a-button");return n(),O(B,{name:"fade",mode:"out-in"},{default:u(()=>[y.locked?(n(),d("div",{key:0,class:"lock-screen",onClick:P(L,["self"])},[r(B,{name:"fade",mode:"out-in"},{default:u(()=>[c(x)?(n(),d("div",$,[t("div",ee,[r(T,{size:180},{default:u(()=>[oe]),_:1}),t("div",se,i(c(S).name),1),t("div",{class:"password",ref_key:"passwordWrapper",ref:m},[r(U,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),placeholder:"密码 123456",autofocus:"",onFocus:e[1]||(e[1]=()=>{var s;return(s=m.value)==null?void 0:s.classList.add("foucs")}),onBlur:e[2]||(e[2]=()=>{var s;return(s=m.value)==null?void 0:s.classList.remove("foucs")}),onPressEnter:h},null,8,["modelValue"]),r(H,{onClick:h},{icon:u(()=>[r(M)]),_:1})],512),p.value?(n(),d("div",te,"密码错误")):E("",!0)])])):(n(),d("div",ae,[t("div",ne,i(c(F)),1),t("div",re,i(c(V))+"，星期"+i(I(c(D))),1)]))]),_:1})],8,Z)):E("",!0)]),_:1})}}}),_e=X(ce,[["__scopeId","data-v-66b5174d"]]);export{_e as default};
