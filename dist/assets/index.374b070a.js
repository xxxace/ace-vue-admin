var se=Object.defineProperty;var Q=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var W=(c,t,n)=>t in c?se(c,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):c[t]=n,J=(c,t)=>{for(var n in t||(t={}))ae.call(t,n)&&W(c,n,t[n]);if(Q)for(var n of Q(t))ce.call(t,n)&&W(c,n,t[n]);return c};import{B as z,s as le,x as ie,C as ue,d as E,u as O,D as Y,b as K,r as B,h as r,c as a,o as u,e as C,g as o,w as l,j as v,F as P,E as H,G as x,k as S,t as L,f as N,a as re,z as M,p as _e,i as de,H as pe,I as ve,J as Z,K as he,L as R,O as U,P as fe,Q as me,R as ge,T as ye,S as ke}from"./index.203d48dc.js";import{a as ee,u as be,b as Ce,c as $e,d as xe,F as Se}from"./index.477d6692.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";const Fe=992,De=function(){return document.body.getBoundingClientRect().width-1<Fe};function we(c){const t=z();function n(){if(!document.hidden){const _=De();t.updateSetting({device:_?"mobile":"desktop"})}}const f=ee(n,200);le(()=>window.addEventListener("resize",f)),ie(()=>c&&f()),ue(()=>window.removeEventListener("resize",f))}var Ae="/assets/avatar.e759dc4b.jpg";const Be={class:"search-modal"},Me=S(" \u641C\u7D22 "),Ee={key:0,class:"recent-wrap"},Te={class:"title"},Le=S(" \u6700\u8FD1 "),Ne=S("\u6E05\u7A7A"),ze={class:"recent-body"},Oe={key:1,class:"result-wrap"},Ie=["onClick"],je=["title"],Ve=E({name:"index",setup(c){const t=be("recent-list",[]),n=O(),f=Y(),_=K([]);let h=K([]);const p=e=>{e==null||e.forEach(i=>{var $;($=i.children)!=null&&$.length?p(i.children):_.push(i)})},g=B(null),d=B(!1),y=()=>{d.value=!0,setTimeout(()=>{var e;return(e=g.value)==null?void 0:e.focus()})},s=e=>{d.value=!1,n.push({path:e.path}),t.value.some(i=>i.name===e.name)||t.value.push(e)};p(f.MenuList),h=K(JSON.parse(JSON.stringify(r(_))));const k=ee(e=>{h.length=0;const i=_.filter($=>$.title.indexOf(e.target.value)!==-1);h.push(...JSON.parse(JSON.stringify(r(i))))},500),F=e=>{e==="all"?t.value.length=0:t.value.splice(e,1)};return(e,i)=>{const $=a("icon-search"),D=a("a-button"),w=a("icon-history"),b=a("a-tag"),I=a("a-avatar"),j=a("a-empty"),V=a("a-modal");return u(),C("div",Be,[o(D,{class:"search-btn",onClick:y},{icon:l(()=>[o($,{style:{color:"var(--color-text-1)"}})]),default:l(()=>[Me]),_:1}),o(V,{visible:d.value,"onUpdate:visible":i[2]||(i[2]=m=>d.value=m),top:"150px",closable:!1,footer:!1,"modal-class":"my-modal","align-center":!1},{title:l(()=>[o($,{size:"20",style:{color:"rgb(var(--primary-6))"}}),v("input",{ref_key:"input",ref:g,class:"search-input",type:"text",autofocus:"",placeholder:"\u8F93\u5165\u5173\u952E\u8BCD\u641C\u7D22",onInput:i[0]||(i[0]=(...m)=>r(k)&&r(k)(...m))},null,544)]),default:l(()=>[r(t).length?(u(),C("div",Ee,[v("div",Te,[v("span",null,[o(w),Le]),o(D,{size:"mini",type:"text",status:"danger",onClick:i[1]||(i[1]=m=>F("all"))},{default:l(()=>[Ne]),_:1})]),v("div",ze,[(u(!0),C(P,null,H(r(t),(m,A)=>(u(),x(b,{closable:"",onClick:T=>s(m),onClose:T=>F(A)},{default:l(()=>[S(L(m.title),1)]),_:2},1032,["onClick","onClose"]))),256))])])):N("",!0),r(h).length?(u(),C("div",Oe,[(u(!0),C(P,null,H(r(h),(m,A)=>(u(),C("div",{key:m,class:"result-item",onClick:T=>s(m)},[o(I,{class:"icon"},{default:l(()=>[S(L(A+1),1)]),_:2},1024),v("span",{class:"label",title:m.title},L(m.title),9,je)],8,Ie))),128))])):(u(),x(j,{key:2}))]),_:1},8,["visible"])])}}});const G=c=>(_e("data-v-d898d02e"),c=c(),de(),c),Je={class:"ace-header"},Ke={class:"left-size"},Re=G(()=>v("i",{class:"icon"},null,-1)),Ue=G(()=>v("h1",{class:"title"},"Ace admin vue",-1)),Pe={class:"right-side"},He={key:0},qe={key:1},Ge={class:"avatar-wrap"},Qe=G(()=>v("img",{alt:"avatar",src:Ae},null,-1)),We=S(" Ace "),Xe=S(" \u8BBE\u7F6E "),Ye=S(" \u9000\u51FA\u767B\u5F55 "),Ze=E({name:"index",setup(c){const t=O(),n=z(),f=re(),_=M(()=>n.appDevice==="desktop"),h=Ce({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme"}),p=$e(h),g=()=>{p()},{isFullscreen:d,toggle:y}=xe(),s=()=>{pe.warning({top:"300px",title:"\u63D0\u793A",content:"\u662F\u5426\u8981\u9000\u51FA\u767B\u5F55\uFF1F",alignCenter:!1,hideCancel:!1,onOk(){f.logout(),setTimeout(()=>t.push({name:"login"}),300)}})},k=ve("toggleDrawerMenu");return(F,e)=>{const i=a("icon-menu-unfold"),$=a("icon-sun-fill"),D=a("icon-moon-fill"),w=a("a-button"),b=a("a-tooltip"),I=a("icon-fullscreen-exit"),j=a("icon-fullscreen"),V=a("a-avatar"),m=a("icon-user"),A=a("a-doption"),T=a("icon-settings"),te=a("a-divider"),oe=a("icon-export"),ne=a("a-dropdown");return u(),C("header",Je,[v("div",Ke,[Re,Ue,r(_)?N("",!0):(u(),x(i,{key:0,class:"toggle-icon",size:"26px",onClick:r(k)},null,8,["onClick"]))]),v("ul",Pe,[r(_)?(u(),C("li",He,[o(Ve)])):N("",!0),v("li",null,[o(b,{content:`\u70B9\u51FB\u5207\u6362\u4E3A${r(h)?"\u4EAE\u8272":"\u6697\u9ED1"}\u6A21\u5F0F`},{default:l(()=>[o(w,{class:"nav-btn",type:"outline",shape:"circle",onClick:g},{icon:l(()=>[r(h)?(u(),x($,{key:0})):(u(),x(D,{key:1}))]),_:1})]),_:1},8,["content"])]),r(_)?(u(),C("li",qe,[o(b,{content:`\u70B9\u51FB${r(d)?"\u9000\u51FA":"\u5207\u6362"}\u5168\u5C4F\u6A21\u5F0F`},{default:l(()=>[o(w,{class:"nav-btn",type:"outline",shape:"circle",onClick:r(y)},{icon:l(()=>[r(d)?(u(),x(I,{key:0})):(u(),x(j,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])])):N("",!0),v("li",null,[o(ne,{position:"br",trigger:["hover","click"]},{content:l(()=>[o(A,null,{icon:l(()=>[o(m)]),default:l(()=>[We]),_:1}),o(A,null,{icon:l(()=>[o(T)]),default:l(()=>[Xe]),_:1}),o(te,{style:{margin:"0"}}),o(A,{onClick:s},{icon:l(()=>[o(oe)]),default:l(()=>[Ye]),_:1})]),default:l(()=>[v("div",Ge,[o(V,{size:32,shape:"square",src:"@/assets/avatar.jpg"},{default:l(()=>[Qe]),_:1})])]),_:1})])])])}}});var et=q(Ze,[["__scopeId","data-v-d898d02e"]]);function tt(c){return typeof c=="function"||Object.prototype.toString.call(c)==="[object Object]"&&!he(c)}var X=E({setup(){const c=O(),t=z(),n=Y(),f=B([]),_=B([]),h=M(()=>n.AppMenu?n.AppMenu.children||[]:[]),p=s=>{c.push({name:s.name})},g=s=>{_.value.includes(s)?_.value=[]:_.value=[s]},d=M({get(){return t.appDevice==="desktop"?t.appMenuCollapse:!1},set(s){t.updateSetting({menuCollapse:s})}});Z(s=>{var e,i;const k=(e=s.matched[s.matched.length-1])==null?void 0:e.name,F=(i=s.matched[s.matched.length-2])==null?void 0:i.name;f.value=[k],_.value=[F]});const y=()=>{function s(k){const F=[];return k&&k.forEach(e=>{var D,w;let i;const $=(D=e==null?void 0:e.meta)!=null&&D.icon?()=>{var b;return R(U(`<${(b=e.meta)==null?void 0:b.icon}/>`))}:null;(w=e.children)!=null&&w.length?i=o(a("a-sub-menu"),{key:e.name},{default:()=>[s(e.children)],icon:$,title:()=>{var b;return R(U((b=e.meta)==null?void 0:b.title))}}):i=o(a("a-menu-item"),{key:e.name,onClick:()=>p(e)},{default:()=>{var b;return[R(U((b=e.meta)==null?void 0:b.title))]},icon:$}),F.push(i)}),F}return s(h.value)};return()=>{let s;return o(a("a-menu"),{collapsed:d.value,"onUpdate:collapsed":k=>d.value=k,accordion:!1,"auto-open":!1,"auto-open-selected":!0,"auto-scroll-into-view":!0,"level-indent":34,"open-keys":_.value,"selected-keys":f.value,showCollapseButton:t.device==="desktop",style:{width:`${220}px`,height:"100%"},onSubMenuClick:g},tt(s=y())?s:{default:()=>[s]})}}});const ot={class:"nav-bar"},nt={class:"tag-container"},st=E({name:"index",setup(c){const t=O(),n=fe(),f=M(()=>n.getTagList);Z(p=>{p.meta.noAffix||n.updatetagList(p)});const _=(p,g)=>{if(n.removeTag(p),g-=1,g>=0){const d=f.value[g];t.push(J({},d))}},h=p=>{t.push(J({},p))};return(p,g)=>{const d=a("a-tag");return u(),C("div",ot,[v("div",nt,[(u(!0),C(P,null,H(r(f),(y,s)=>(u(),x(d,{key:y.name,class:me([{active:y.fullPath===p.$route.fullPath}]),closable:!!s,onClose:k=>_(y,s),onClick:k=>h(y)},{default:l(()=>[S(L(y.title),1)]),_:2},1032,["class","closable","onClose","onClick"]))),128))])])}}});var at=q(st,[["__scopeId","data-v-6a0630e1"]]);const ct={class:"ace-layout"},lt={class:"header"},it={class:"container"},ut={key:0,class:"left-side"},rt={class:"main"},_t=E({name:"index",setup(c){we(!0);const t=z(),n=B(!0),f=M(()=>t.appDevice==="desktop");return ge("toggleDrawerMenu",()=>{n.value=!n.value}),(_,h)=>{const p=a("a-drawer"),g=a("router-view");return u(),C("div",ct,[v("header",lt,[o(et)]),v("div",it,[r(f)?(u(),C("aside",ut,[o(X)])):(u(),x(p,{key:1,visible:n.value,"onUpdate:visible":h[0]||(h[0]=d=>n.value=d),width:"252px",placement:"left",header:!1,footer:!1,closable:!1},{default:l(()=>[o(X)]),_:1},8,["visible"])),v("main",rt,[o(at),o(g,null,{default:l(({Component:d,route:y})=>[o(ye,{mode:"out-in"},{default:l(()=>[(u(),x(ke(d),{key:y.fullPath}))]),_:2},1024)]),_:1}),o(Se)])])])}}});var ft=q(_t,[["__scopeId","data-v-1e115fd8"]]);export{ft as default};
