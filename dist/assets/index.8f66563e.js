import{r as w,d as x,u as L,a as q,b,c as u,o as g,e as h,t as U,f as T,g as e,w as t,h as j,p as y,i as F,j as d,k as R,N as M}from"./index.a4fc4ac7.js";import{u as z,F as G}from"./index.87820a45.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";function H(o=!1){const s=w(o);return{loading:s,setLoading:l=>{s.value=l},toggle:()=>{s.value=!s.value}}}const V=o=>(y("data-v-19fb6dc8"),o=o(),F(),o),J={class:"login-form"},K=V(()=>d("div",{class:"title"},"\u767B\u5F55 Ace admin vue",-1)),O=V(()=>d("div",{class:"sub-title"},"\u767B\u5F55 Ace admin vue",-1)),P={key:0,class:"error-msg"},Q=R(" \u8BB0\u4F4F\u5BC6\u7801 "),W=R("\u767B\u5F55"),X=x({name:"login-form",setup(o){const s=w(""),{loading:p,setLoading:f}=H(),l=L(),C=q(),a=z("login-config",{username:"",password:"",isRemember:!1}),S=b({username:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]}),r=b({username:a.value.username,password:a.value.isRemember?a.value.password:"",isRemember:a.value.isRemember}),A=async({values:c,errors:n})=>{if(!n){f(!0);try{await C.login(c),M.success({title:"\u767B\u5F55\u6210\u529F",content:"\u6B22\u8FCE\u56DE\u6765!"});const{username:m,password:v}=c,{isRemember:i}=a.value;s.value="",a.value.username=m,a.value.password=i?v:"",l.currentRoute.value.query?setTimeout(()=>l.push({path:"/"}),300):setTimeout(()=>l.push({path:l.currentRoute.value.query}),300)}catch(m){s.value=m.message}finally{f(!1)}}},k=c=>{a.value.isRemember=c};return(c,n)=>{const m=u("icon-user"),v=u("a-input"),i=u("a-form-item"),D=u("icon-lock"),E=u("a-input-password"),I=u("a-checkbox"),N=u("a-button"),$=u("a-form");return g(),h("div",J,[K,O,s.value?(g(),h("div",P,U(s.value),1)):T("",!0),e($,{ref:"formRef",model:r,style:{width:"100%"},rules:S,onSubmit:A},{default:t(()=>[e(i,{field:"username","hide-label":""},{default:t(()=>[e(v,{modelValue:r.username,"onUpdate:modelValue":n[0]||(n[0]=_=>r.username=_),placeholder:"\u8D26\u53F7:admin","allow-clear":""},{prefix:t(()=>[e(m)]),_:1},8,["modelValue"])]),_:1}),e(i,{field:"password","hide-label":""},{default:t(()=>[e(E,{modelValue:r.password,"onUpdate:modelValue":n[1]||(n[1]=_=>r.password=_),placeholder:"\u5BC6\u7801:123456","allow-clear":""},{prefix:t(()=>[e(D)]),_:1},8,["modelValue"])]),_:1}),e(i,{field:"isRead","hide-label":""},{default:t(()=>[e(I,{modelValue:r.isRemember,"onUpdate:modelValue":n[2]||(n[2]=_=>r.isRemember=_),onChange:k},{default:t(()=>[Q]),_:1},8,["modelValue","onChange"])]),_:1}),e(i,{"hide-label":""},{default:t(()=>[e(N,{type:"primary","html-type":"submit",long:"",loading:j(p)},{default:t(()=>[W]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules","onSubmit"])])}}});var Y=B(X,[["__scopeId","data-v-19fb6dc8"]]);const Z=o=>(y("data-v-f2e22942"),o=o(),F(),o),ee={class:"login"},oe=Z(()=>d("div",{class:"logo"},[d("img",{alt:"logo",src:"//p3-armor.byteimg.com/tos-cn-i-49unhts6dw/dfdba5317c0c20ce20e64fac803d52bc.svg~tplv-49unhts6dw-image.image"}),d("div",{class:"logo-text"},"Ace admin vue")],-1)),se={class:"container"},te=x({name:"index",setup(o){return(s,p)=>(g(),h("div",ee,[oe,d("div",se,[e(Y),e(G)])]))}});var re=B(te,[["__scopeId","data-v-f2e22942"]]);export{re as default};
