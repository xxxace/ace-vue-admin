import{d as j,r as f,f as H,n as z,y as O,C as P,D as k,E as W,G as q,s as G,w as d,T as y,i as c,o as r,c as i,b as u,k as t,a,t as _,j as E,H as A,p as J,e as K}from"./index.7b4003e2.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";var R="/ace-vue-admin/assets/avatar.e759dc4b.jpg";const X=n=>(J("data-v-f35e7474"),n=n(),K(),n),Y={key:0,class:"unlock-wrap"},Z={class:"unlock"},$=X(()=>a("img",{alt:"avatar",src:R},null,-1)),ee={style:{"font-size":"48px",margin:"4px 0 24px 0"}},oe={key:0,class:"tips"},se={key:1,class:"date-time"},te={class:"timer"},ae={class:"date"},ne=j({name:"index",props:{locked:{type:Boolean,default:!1}},emits:["unlocked"],setup(n,{emit:b}){const B=n,p=f(!1),l=f(),m=f(),C=H(),S=z(()=>C),[x,w]=O(!1),v=P(),N=["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"],F=k(v,"HH : mm"),V=k(v,"MM\u6708DD\u65E5"),D=k(v,"d"),L=o=>N[Number(o)],g=()=>{l.value==="123456"?(p.value=!1,setTimeout(()=>{l.value="",b("unlocked"),w()})):(console.log("\u5BC6\u7801\u9519\u8BEF"),p.value=!0)},h=o=>{o.key==="locked"&&o.oldValue==="true"&&o.newValue===null&&localStorage.setItem("locked","true")};return W(()=>{window.addEventListener("storage",h);const o=document.querySelector(".ace-header");o["lock-screen-observer"]=new MutationObserver(e=>{setTimeout(()=>{e[0]&&e[0].removedNodes&&e[0].removedNodes.length&&e[0].removedNodes[0].className==="lock-screen"&&window.location.reload()},200)}),o["lock-screen-observer"].observe(o,{childList:!0,attributes:!0,subtree:!0})}),q(()=>{window.removeEventListener("storage",h)}),(o,e)=>{const T=c("a-avatar"),M=c("a-input-password"),I=c("icon-arrow-right"),U=c("a-button");return r(),G(y,{name:"fade",mode:"out-in"},{default:d(()=>[B.locked?(r(),i("div",{key:0,class:"lock-screen",onClick:e[3]||(e[3]=A(()=>t(w)(),["self"]))},[u(y,{name:"fade",mode:"out-in"},{default:d(()=>[t(x)?(r(),i("div",Y,[a("div",Z,[u(T,{size:180},{default:d(()=>[$]),_:1}),a("div",ee,_(t(S).name),1),a("div",{class:"password",ref_key:"passwordWrapper",ref:m},[u(M,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=s=>l.value=s),placeholder:"\u5BC6\u7801 123456",onFocus:e[1]||(e[1]=()=>{var s;return(s=m.value)==null?void 0:s.classList.add("foucs")}),onBlur:e[2]||(e[2]=()=>{var s;return(s=m.value)==null?void 0:s.classList.remove("foucs")}),onPressEnter:g},null,8,["modelValue"]),u(U,{onClick:g},{icon:d(()=>[u(I)]),_:1})],512),p.value?(r(),i("div",oe,"\u5BC6\u7801\u9519\u8BEF")):E("",!0)])])):(r(),i("div",se,[a("div",te,_(t(F)),1),a("div",ae,_(t(V))+"\uFF0C\u661F\u671F"+_(L(t(D))),1)]))]),_:1})])):E("",!0)]),_:1})}}});var re=Q(ne,[["__scopeId","data-v-f35e7474"]]),de=Object.freeze(Object.defineProperty({__proto__:null,default:re},Symbol.toStringTag,{value:"Module"}));export{re as L,R as _,de as i};
