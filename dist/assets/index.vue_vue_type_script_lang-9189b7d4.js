import{d as _,u as j,z as x,L as K,r as g,n as k,S as N,b as r,l as p,U as O,x as d,y as i}from"./index-46fce740.js";function U(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!O(s)}const $=_({setup(){const s=j(),u=x(),f=K(),h=g([]),l=g([]),C=k(()=>f.AppMenu?f.AppMenu.children||[]:[]),b=e=>{s.push({name:e.name})},M=e=>{l.value.includes(e)?l.value=[]:l.value=[e]},v=k({get(){return u.appDevice==="desktop"?u.appMenuCollapse:!1},set(e){u.updateSetting({menuCollapse:e})}});N(e=>{var t,a;const o=(t=e.matched[e.matched.length-1])==null?void 0:t.name,c=(a=e.matched[e.matched.length-2])==null?void 0:a.name;h.value=[o],l.value=[c]});const A=()=>{function e(o){const c=[];return o&&o.forEach(t=>{var y,S;let a;const m=(y=t==null?void 0:t.meta)!=null&&y.icon?()=>{var n;return d(i(`<${(n=t.meta)==null?void 0:n.icon}/>`))}:null;(S=t.children)!=null&&S.length?a=r(p("a-sub-menu"),{key:t.name},{default:()=>[e(t.children)],icon:m,title:()=>{var n;return d(i((n=t.meta)==null?void 0:n.title))}}):a=r(p("a-menu-item"),{key:t.name,onClick:()=>b(t)},{default:()=>{var n;return[d(i((n=t.meta)==null?void 0:n.title))]},icon:m}),c.push(a)}),c}return e(C.value)};return()=>{let e;return r(p("a-menu"),{collapsed:v.value,"onUpdate:collapsed":o=>v.value=o,accordion:!1,"auto-open":!1,"auto-open-selected":!0,"auto-scroll-into-view":!0,"level-indent":34,"open-keys":l.value,"selected-keys":h.value,showCollapseButton:u.device==="desktop",style:{width:`${220}px`,height:"100%"},onSubMenuClick:M},U(e=A())?e:{default:()=>[e]})}}});export{$ as _};
