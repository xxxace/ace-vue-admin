import{d as K,n as _,B as j,r as k,q as C,K as O,b as r,L as x,i as p,O as d,P as i,u as B}from"./index.fb80edb8.js";function N(s){return typeof s=="function"||Object.prototype.toString.call(s)==="[object Object]"&&!x(s)}var $=K({setup(){const s=B(),u=_(),f=j(),h=k([]),l=k([]),S=C(()=>f.AppMenu?f.AppMenu.children||[]:[]),b=e=>{s.push({name:e.name})},M=e=>{l.value.includes(e)?l.value=[]:l.value=[e]},v=C({get(){return u.appDevice==="desktop"?u.appMenuCollapse:!1},set(e){u.updateSetting({menuCollapse:e})}});O(e=>{var t,a;const o=(t=e.matched[e.matched.length-1])==null?void 0:t.name,c=(a=e.matched[e.matched.length-2])==null?void 0:a.name;h.value=[o],l.value=[c]});const A=()=>{function e(o){const c=[];return o&&o.forEach(t=>{var y,g;let a;const m=(y=t==null?void 0:t.meta)!=null&&y.icon?()=>{var n;return d(i(`<${(n=t.meta)==null?void 0:n.icon}/>`))}:null;(g=t.children)!=null&&g.length?a=r(p("a-sub-menu"),{key:t.name},{default:()=>[e(t.children)],icon:m,title:()=>{var n;return d(i((n=t.meta)==null?void 0:n.title))}}):a=r(p("a-menu-item"),{key:t.name,onClick:()=>b(t)},{default:()=>{var n;return[d(i((n=t.meta)==null?void 0:n.title))]},icon:m}),c.push(a)}),c}return e(S.value)};return()=>{let e;return r(p("a-menu"),{collapsed:v.value,"onUpdate:collapsed":o=>v.value=o,accordion:!1,"auto-open":!1,"auto-open-selected":!0,"auto-scroll-into-view":!0,"level-indent":34,"open-keys":l.value,"selected-keys":h.value,showCollapseButton:u.device==="desktop",style:{width:`${220}px`,height:"100%"},onSubMenuClick:M},N(e=A())?e:{default:()=>[e]})}}});export{$ as _};
