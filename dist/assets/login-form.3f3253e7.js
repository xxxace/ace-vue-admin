import{r as h,d as E,u as N,f as L,g,h as u,o as v,c as b,t as q,i as I,b as e,w as s,j as U,p as T,e as j,a as w,k as F,N as M}from"./index.911fef9c.js";import{u as z}from"./index.557c36c6.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";function H(r=!1){const o=h(r);return{loading:o,setLoading:l=>{o.value=l},toggle:()=>{o.value=!o.value}}}const R=r=>(T("data-v-19fb6dc8"),r=r(),j(),r),J={class:"login-form"},K=R(()=>w("div",{class:"title"},"\u767B\u5F55 Ace admin vue",-1)),O=R(()=>w("div",{class:"sub-title"},"\u767B\u5F55 Ace admin vue",-1)),P={key:0,class:"error-msg"},Q=F(" \u8BB0\u4F4F\u5BC6\u7801 "),W=F("\u767B\u5F55"),X=E({name:"login-form",setup(r){const o=h(""),{loading:f,setLoading:_}=H(),l=N(),y=L(),a=z("login-config",{username:"",password:"",isRemember:!1}),B=g({username:[{required:!0,message:"\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A"}],password:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}]}),n=g({username:a.value.username,password:a.value.isRemember?a.value.password:"",isRemember:a.value.isRemember}),V=async({values:m,errors:t})=>{if(!t){_(!0);try{await y.login(m),M.success({title:"\u767B\u5F55\u6210\u529F",content:"\u6B22\u8FCE\u56DE\u6765!"});const{username:d,password:p}=m,{isRemember:i}=a.value;o.value="",a.value.username=d,a.value.password=i?p:"",l.currentRoute.value.query?setTimeout(()=>l.push({path:"/"}),300):setTimeout(()=>l.push({path:l.currentRoute.value.query}),300)}catch(d){o.value=d.message}finally{_(!1)}}},x=m=>{a.value.isRemember=m};return(m,t)=>{const d=u("icon-user"),p=u("a-input"),i=u("a-form-item"),C=u("icon-lock"),S=u("a-input-password"),k=u("a-checkbox"),A=u("a-button"),D=u("a-form");return v(),b("div",J,[K,O,o.value?(v(),b("div",P,q(o.value),1)):I("",!0),e(D,{ref:"formRef",model:n,style:{width:"100%"},rules:B,onSubmit:V},{default:s(()=>[e(i,{field:"username","hide-label":""},{default:s(()=>[e(p,{modelValue:n.username,"onUpdate:modelValue":t[0]||(t[0]=c=>n.username=c),placeholder:"\u8D26\u53F7:admin","allow-clear":""},{prefix:s(()=>[e(d)]),_:1},8,["modelValue"])]),_:1}),e(i,{field:"password","hide-label":""},{default:s(()=>[e(S,{modelValue:n.password,"onUpdate:modelValue":t[1]||(t[1]=c=>n.password=c),placeholder:"\u5BC6\u7801:123456","allow-clear":""},{prefix:s(()=>[e(C)]),_:1},8,["modelValue"])]),_:1}),e(i,{field:"isRead","hide-label":""},{default:s(()=>[e(k,{modelValue:n.isRemember,"onUpdate:modelValue":t[2]||(t[2]=c=>n.isRemember=c),onChange:x},{default:s(()=>[Q]),_:1},8,["modelValue","onChange"])]),_:1}),e(i,{"hide-label":""},{default:s(()=>[e(A,{type:"primary","html-type":"submit",long:"",loading:U(f)},{default:s(()=>[W]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules","onSubmit"])])}}});var ee=G(X,[["__scopeId","data-v-19fb6dc8"]]);export{ee as default};
